{
  "swagger": "2.0",
  "info": {
    "description": "项目的一些返回值描述:</br>1、管理端需要验证的接口，在请求的header加上token</br>2、常见返回状态: status:400 bad request 参数或请求有问题;status:405 请求方法不允许;status200 操作成功; status:500 服务器内部错误;</br>注意：排序字段order、sort没有实现，默认是id，desc，有具体需求，具体实现</br>管理端错误码汇总文档下载地址，协议、ip、端口自己调整一下，地址如下:</br>http://192.168.0.202:8001/solrLogService/resources/doc/error.docx",
    "version": "V1",
    "title": "solr查询日志服务"
  },
  "host": "192.168.0.202:4430",
  "basePath": "/solrLogService",
  "tags": [
    {
      "name": "login-controller",
      "description": "登录和退出接口"
    },
    {
      "name": "manager-controller",
      "description": "管理员表"
    },
    {
      "name": "role-controller",
      "description": "角色类型及管理员类型"
    },
    {
      "name": "third-part-controller",
      "description": "开放的接口"
    },
    {
      "name": "user-log-controller",
      "description": "用户日志"
    }
  ],
  "paths": {
    "/login/login": {
      "post": {
        "tags": [
          "login-controller"
        ],
        "summary": "登录接口",
        "operationId": "loginUsingPOST",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json;charset=UTF-8"
        ],
        "parameters": [
          {
            "name": "password",
            "in": "query",
            "description": "密码",
            "required": true,
            "type": "string",
            "default": "123456",
            "allowEmptyValue": false
          },
          {
            "name": "username",
            "in": "query",
            "description": "用户名称",
            "required": true,
            "type": "string",
            "default": "admin",
            "allowEmptyValue": false
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "schema": {
              "$ref": "#/definitions/LoginVo对象"
            }
          }
        },
        "security": [
          {
            "Authorization": [
              "global"
            ]
          }
        ],
        "deprecated": false
      }
    },
    "/login/logout": {
      "post": {
        "tags": [
          "login-controller"
        ],
        "summary": "退出",
        "description": "退出",
        "operationId": "logoutUsingPOST",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json;charset=UTF-8"
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        },
        "security": [
          {
            "Authorization": [
              "global"
            ]
          }
        ],
        "deprecated": false
      }
    },
    "/manager": {
      "get": {
        "tags": [
          "manager-controller"
        ],
        "summary": "查询所有管理员表",
        "description": "查询所有管理员表",
        "operationId": "findAllUsingGET",
        "produces": [
          "application/json;charset=UTF-8"
        ],
        "parameters": [
          {
            "name": "limit",
            "in": "query",
            "description": "页大小",
            "required": false,
            "type": "integer",
            "format": "int32"
          },
          {
            "name": "offset",
            "in": "query",
            "description": "APP用的是偏移量， 服务端用的是当前页码",
            "required": false,
            "type": "integer",
            "format": "int32"
          },
          {
            "name": "order",
            "in": "query",
            "description": "升序降序字段,如：casc 升序 desc降序，暂时没写代码，根据实际情况商量处理。默认id desc",
            "required": false,
            "type": "string"
          },
          {
            "name": "search",
            "in": "query",
            "description": "模糊查询字段",
            "required": false,
            "type": "string",
            "allowEmptyValue": false
          },
          {
            "name": "sort",
            "in": "query",
            "description": "排序字段",
            "required": false,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "schema": {
              "$ref": "#/definitions/ManagerFindAllVo对象"
            }
          }
        },
        "security": [
          {
            "Authorization": [
              "global"
            ]
          }
        ],
        "deprecated": false
      },
      "post": {
        "tags": [
          "manager-controller"
        ],
        "summary": "添加管理员表",
        "description": "添加管理员表",
        "operationId": "saveUsingPOST",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json;charset=UTF-8"
        ],
        "parameters": [
          {
            "name": "avatarUrl",
            "in": "query",
            "description": "头像地址",
            "required": false,
            "type": "string",
            "allowEmptyValue": false
          },
          {
            "name": "mobile",
            "in": "query",
            "description": "号码",
            "required": false,
            "type": "string",
            "allowEmptyValue": false
          },
          {
            "name": "nickname",
            "in": "query",
            "description": "昵称",
            "required": false,
            "type": "string",
            "allowEmptyValue": false
          },
          {
            "name": "password",
            "in": "query",
            "description": "密码",
            "required": true,
            "type": "string",
            "allowEmptyValue": false
          },
          {
            "name": "roleId",
            "in": "query",
            "description": "角色id",
            "required": true,
            "type": "integer",
            "format": "int32",
            "allowEmptyValue": false
          },
          {
            "name": "username",
            "in": "query",
            "description": "用户名称",
            "required": true,
            "type": "string",
            "allowEmptyValue": false
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "schema": {
              "$ref": "#/definitions/IdVo"
            }
          }
        },
        "security": [
          {
            "Authorization": [
              "global"
            ]
          }
        ],
        "deprecated": false
      }
    },
    "/manager/{id}": {
      "get": {
        "tags": [
          "manager-controller"
        ],
        "summary": "查询管理员表详情",
        "description": "查询管理员表详情",
        "operationId": "findByIdUsingGET",
        "produces": [
          "application/json;charset=UTF-8"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "管理员表id",
            "required": true,
            "type": "integer",
            "format": "int32"
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "schema": {
              "$ref": "#/definitions/Manager对象"
            }
          }
        },
        "security": [
          {
            "Authorization": [
              "global"
            ]
          }
        ],
        "deprecated": false
      },
      "put": {
        "tags": [
          "manager-controller"
        ],
        "summary": "通过id修改管理员表",
        "description": "通过id修改管理员表",
        "operationId": "updateByIdUsingPUT",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json;charset=UTF-8"
        ],
        "parameters": [
          {
            "name": "avatarUrl",
            "in": "query",
            "description": "头像地址",
            "required": false,
            "type": "string"
          },
          {
            "name": "createTime",
            "in": "query",
            "description": "创建时间",
            "required": false,
            "type": "integer",
            "format": "int64"
          },
          {
            "name": "id",
            "in": "query",
            "description": "代理ID",
            "required": false,
            "type": "integer",
            "format": "int32"
          },
          {
            "name": "lastLoginTime",
            "in": "query",
            "description": "最后登录时间，单位毫秒",
            "required": false,
            "type": "integer",
            "format": "int64"
          },
          {
            "name": "mobile",
            "in": "query",
            "description": "号码",
            "required": false,
            "type": "string"
          },
          {
            "name": "nickname",
            "in": "query",
            "description": "昵称",
            "required": false,
            "type": "string"
          },
          {
            "name": "password",
            "in": "query",
            "description": "密码",
            "required": false,
            "type": "string"
          },
          {
            "name": "roleId",
            "in": "query",
            "description": "角色id",
            "required": false,
            "type": "integer",
            "format": "int32"
          },
          {
            "name": "username",
            "in": "query",
            "description": "用户名称",
            "required": false,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        },
        "security": [
          {
            "Authorization": [
              "global"
            ]
          }
        ],
        "deprecated": false
      },
      "delete": {
        "tags": [
          "manager-controller"
        ],
        "summary": "删除管理员表",
        "description": "修改管理员表",
        "operationId": "deleteByIdUsingDELETE",
        "produces": [
          "application/json;charset=UTF-8"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "管理员表id",
            "required": true,
            "type": "integer",
            "format": "int32"
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        },
        "security": [
          {
            "Authorization": [
              "global"
            ]
          }
        ],
        "deprecated": false
      }
    },
    "/role": {
      "get": {
        "tags": [
          "role-controller"
        ],
        "summary": "查询所有角色类型及管理员类型",
        "description": "查询所有角色类型及管理员类型",
        "operationId": "findAllUsingGET_1",
        "produces": [
          "application/json;charset=UTF-8"
        ],
        "parameters": [
          {
            "name": "limit",
            "in": "query",
            "description": "页大小",
            "required": false,
            "type": "integer",
            "format": "int32"
          },
          {
            "name": "offset",
            "in": "query",
            "description": "APP用的是偏移量， 服务端用的是当前页码",
            "required": false,
            "type": "integer",
            "format": "int32"
          },
          {
            "name": "order",
            "in": "query",
            "description": "升序降序字段,如：casc 升序 desc降序，暂时没写代码，根据实际情况商量处理。默认id desc",
            "required": false,
            "type": "string"
          },
          {
            "name": "search",
            "in": "query",
            "description": "模糊查询字段",
            "required": false,
            "type": "string",
            "allowEmptyValue": false
          },
          {
            "name": "sort",
            "in": "query",
            "description": "排序字段",
            "required": false,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "schema": {
              "$ref": "#/definitions/RoleFindAllVo对象"
            }
          }
        },
        "security": [
          {
            "Authorization": [
              "global"
            ]
          }
        ],
        "deprecated": false
      },
      "post": {
        "tags": [
          "role-controller"
        ],
        "summary": "添加角色类型及管理员类型",
        "description": "添加角色类型及管理员类型",
        "operationId": "saveUsingPOST_1",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json;charset=UTF-8"
        ],
        "parameters": [
          {
            "name": "name",
            "in": "query",
            "description": "管理员类型名称",
            "required": true,
            "type": "string",
            "allowEmptyValue": false
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "schema": {
              "$ref": "#/definitions/IdVo"
            }
          }
        },
        "security": [
          {
            "Authorization": [
              "global"
            ]
          }
        ],
        "deprecated": false
      }
    },
    "/role/{id}": {
      "get": {
        "tags": [
          "role-controller"
        ],
        "summary": "查询角色类型及管理员类型详情",
        "description": "查询角色类型及管理员类型详情",
        "operationId": "findByIdUsingGET_1",
        "produces": [
          "application/json;charset=UTF-8"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "角色类型及管理员类型id",
            "required": true,
            "type": "integer",
            "format": "int32"
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "schema": {
              "$ref": "#/definitions/Role对象"
            }
          }
        },
        "security": [
          {
            "Authorization": [
              "global"
            ]
          }
        ],
        "deprecated": false
      },
      "put": {
        "tags": [
          "role-controller"
        ],
        "summary": "通过id修改角色类型及管理员类型",
        "description": "通过id修改角色类型及管理员类型",
        "operationId": "updateByIdUsingPUT_1",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json;charset=UTF-8"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "query",
            "description": "代理ID",
            "required": false,
            "type": "integer",
            "format": "int32"
          },
          {
            "name": "name",
            "in": "query",
            "description": "管理员类型名称",
            "required": false,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        },
        "security": [
          {
            "Authorization": [
              "global"
            ]
          }
        ],
        "deprecated": false
      },
      "delete": {
        "tags": [
          "role-controller"
        ],
        "summary": "删除角色类型及管理员类型",
        "description": "修改角色类型及管理员类型",
        "operationId": "deleteByIdUsingDELETE_1",
        "produces": [
          "application/json;charset=UTF-8"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "角色类型及管理员类型id",
            "required": true,
            "type": "integer",
            "format": "int32"
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        },
        "security": [
          {
            "Authorization": [
              "global"
            ]
          }
        ],
        "deprecated": false
      }
    },
    "/thirdPart/addSolrMsgId": {
      "post": {
        "tags": [
          "third-part-controller"
        ],
        "summary": "添加solr查询日志具体查看的表的id",
        "description": "添加solr查询日志具体查看的表的id",
        "operationId": "addSolrMsgIdUsingPOST",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json;charset=UTF-8"
        ],
        "parameters": [
          {
            "name": "msgId",
            "in": "query",
            "description": "具体的tableId",
            "required": true,
            "type": "integer",
            "format": "int32",
            "allowEmptyValue": false
          },
          {
            "name": "uniqueFlag",
            "in": "query",
            "description": "uniqueFlag",
            "required": true,
            "type": "string",
            "allowEmptyValue": false
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        },
        "security": [
          {
            "Authorization": [
              "global"
            ]
          }
        ],
        "deprecated": false
      }
    },
    "/thirdPart/addSolrQueryLog": {
      "post": {
        "tags": [
          "third-part-controller"
        ],
        "summary": "添加solr查询日志",
        "description": "添加solr查询日志",
        "operationId": "addSolrQueryLogUsingPOST",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json;charset=UTF-8"
        ],
        "parameters": [
          {
            "name": "createTime",
            "in": "query",
            "description": "创建时间",
            "required": true,
            "type": "integer",
            "format": "int64",
            "allowEmptyValue": false
          },
          {
            "name": "email",
            "in": "query",
            "description": "email",
            "required": true,
            "type": "string",
            "allowEmptyValue": false
          },
          {
            "name": "keyword",
            "in": "query",
            "description": "solr搜索的关键字",
            "required": true,
            "type": "string",
            "allowEmptyValue": false
          },
          {
            "name": "label",
            "in": "query",
            "description": "solr查询界面标签",
            "required": false,
            "type": "string",
            "allowEmptyValue": false
          },
          {
            "name": "phone",
            "in": "query",
            "description": "号码",
            "required": false,
            "type": "string",
            "allowEmptyValue": false
          },
          {
            "name": "solrQueryParam",
            "in": "query",
            "description": "solr搜索的关键字",
            "required": true,
            "type": "string",
            "allowEmptyValue": false
          },
          {
            "name": "tableName",
            "in": "query",
            "description": "solr表",
            "required": true,
            "type": "string",
            "allowEmptyValue": false
          },
          {
            "name": "uniqueFlag",
            "in": "query",
            "description": "solrlog 唯一标志",
            "required": true,
            "type": "string",
            "allowEmptyValue": false
          },
          {
            "name": "userId",
            "in": "query",
            "description": "用户id",
            "required": true,
            "type": "integer",
            "format": "int32",
            "allowEmptyValue": false
          },
          {
            "name": "userName",
            "in": "query",
            "description": "用户名称",
            "required": true,
            "type": "string",
            "allowEmptyValue": false
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        },
        "security": [
          {
            "Authorization": [
              "global"
            ]
          }
        ],
        "deprecated": false
      }
    },
    "/userLog": {
      "get": {
        "tags": [
          "user-log-controller"
        ],
        "summary": "查询所有用户日志",
        "description": "查询所有用户日志",
        "operationId": "findAllUsingGET_2",
        "produces": [
          "application/json;charset=UTF-8"
        ],
        "parameters": [
          {
            "name": "email",
            "in": "query",
            "description": "用户email模糊查询",
            "required": false,
            "type": "string",
            "allowEmptyValue": false
          },
          {
            "name": "endTime",
            "in": "query",
            "description": "结束时间：单位毫秒",
            "required": false,
            "type": "integer",
            "format": "int64",
            "allowEmptyValue": false
          },
          {
            "name": "keyword",
            "in": "query",
            "description": "keyword模糊搜索",
            "required": false,
            "type": "string",
            "allowEmptyValue": false
          },
          {
            "name": "label",
            "in": "query",
            "description": "solr查询界面标签模糊查询",
            "required": false,
            "type": "string",
            "allowEmptyValue": false
          },
          {
            "name": "limit",
            "in": "query",
            "description": "页大小",
            "required": false,
            "type": "integer",
            "format": "int32"
          },
          {
            "name": "offset",
            "in": "query",
            "description": "APP用的是偏移量， 服务端用的是当前页码",
            "required": false,
            "type": "integer",
            "format": "int32"
          },
          {
            "name": "order",
            "in": "query",
            "description": "升序降序字段,如：casc 升序 desc降序，暂时没写代码，根据实际情况商量处理。默认id desc",
            "required": false,
            "type": "string"
          },
          {
            "name": "phone",
            "in": "query",
            "description": "号码模糊查询",
            "required": false,
            "type": "string",
            "allowEmptyValue": false
          },
          {
            "name": "search",
            "in": "query",
            "description": "模糊查询字段：email、userName、phone",
            "required": false,
            "type": "string",
            "allowEmptyValue": false
          },
          {
            "name": "sort",
            "in": "query",
            "description": "排序字段",
            "required": false,
            "type": "string"
          },
          {
            "name": "startTime",
            "in": "query",
            "description": "开始时间：单位毫秒",
            "required": false,
            "type": "integer",
            "format": "int64",
            "allowEmptyValue": false
          },
          {
            "name": "userName",
            "in": "query",
            "description": "用户名称模糊查询",
            "required": false,
            "type": "string",
            "allowEmptyValue": false
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "schema": {
              "$ref": "#/definitions/UserLogFindAllVo对象"
            }
          }
        },
        "security": [
          {
            "Authorization": [
              "global"
            ]
          }
        ],
        "deprecated": false
      }
    },
    "/userLog/{id}": {
      "get": {
        "tags": [
          "user-log-controller"
        ],
        "summary": "查询用户日志详情",
        "description": "查询用户日志详情",
        "operationId": "findByIdUsingGET_2",
        "produces": [
          "application/json;charset=UTF-8"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "用户日志id",
            "required": true,
            "type": "integer",
            "format": "int32"
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "schema": {
              "$ref": "#/definitions/UserLog对象"
            }
          }
        },
        "security": [
          {
            "Authorization": [
              "global"
            ]
          }
        ],
        "deprecated": false
      }
    }
  },
  "securityDefinitions": {
    "Authorization": {
      "type": "apiKey",
      "name": "token",
      "in": "header"
    }
  },
  "definitions": {
    "IdVo": {
      "type": "object",
      "properties": {
        "id": {
          "type": "integer",
          "format": "int32",
          "xml": {
            "name": "id",
            "attribute": true,
            "wrapped": false
          },
          "description": "表id"
        }
      },
      "title": "IdVo",
      "xml": {
        "name": "IdVo",
        "attribute": false,
        "wrapped": false
      },
      "description": "返回添加数据的id"
    },
    "LoginVo对象": {
      "type": "object",
      "properties": {
        "token": {
          "type": "string",
          "description": "token调用接口的时候带到header中"
        }
      },
      "title": "LoginVo对象",
      "description": "登录返回对象"
    },
    "ManagerFindAllVo对象": {
      "type": "object",
      "properties": {
        "records": {
          "type": "array",
          "description": "所有管理员信息",
          "items": {
            "$ref": "#/definitions/Manager对象"
          }
        },
        "total": {
          "type": "integer",
          "format": "int64",
          "description": "总条数"
        }
      },
      "title": "ManagerFindAllVo对象",
      "description": "获取所有管理员信息"
    },
    "Manager对象": {
      "type": "object",
      "properties": {
        "avatarUrl": {
          "type": "string",
          "description": "头像地址"
        },
        "createTime": {
          "type": "integer",
          "format": "int64",
          "description": "创建时间"
        },
        "id": {
          "type": "integer",
          "format": "int32",
          "description": "代理ID"
        },
        "lastLoginTime": {
          "type": "integer",
          "format": "int64",
          "description": "最后登录时间，单位毫秒"
        },
        "mobile": {
          "type": "string",
          "description": "号码"
        },
        "nickname": {
          "type": "string",
          "description": "昵称"
        },
        "password": {
          "type": "string",
          "description": "密码"
        },
        "roleId": {
          "type": "integer",
          "format": "int32",
          "description": "角色id"
        },
        "roleName": {
          "type": "string",
          "description": "角色名称"
        },
        "username": {
          "type": "string",
          "description": "用户名称"
        }
      },
      "title": "Manager对象",
      "description": "管理员表"
    },
    "RoleFindAllVo对象": {
      "type": "object",
      "properties": {
        "records": {
          "type": "array",
          "description": "所有角色信息",
          "items": {
            "$ref": "#/definitions/Role对象"
          }
        },
        "total": {
          "type": "integer",
          "format": "int64",
          "description": "总条数"
        }
      },
      "title": "RoleFindAllVo对象",
      "description": "获取所有角色信息"
    },
    "Role对象": {
      "type": "object",
      "properties": {
        "id": {
          "type": "integer",
          "format": "int32",
          "description": "代理ID"
        },
        "name": {
          "type": "string",
          "description": "管理员类型名称"
        }
      },
      "title": "Role对象",
      "description": "角色类型及管理员类型"
    },
    "UserLogFindAllVo对象": {
      "type": "object",
      "properties": {
        "records": {
          "type": "array",
          "description": "获取所有用户日志信息",
          "items": {
            "$ref": "#/definitions/UserLog对象"
          }
        },
        "total": {
          "type": "integer",
          "format": "int64",
          "description": "总条数"
        }
      },
      "title": "UserLogFindAllVo对象",
      "description": "获取所有用户日志信息"
    },
    "UserLog对象": {
      "type": "object",
      "properties": {
        "createTime": {
          "type": "integer",
          "format": "int64",
          "description": "创建时间"
        },
        "description": {
          "type": "string",
          "description": "日志描述"
        },
        "email": {
          "type": "string",
          "description": "email"
        },
        "id": {
          "type": "integer",
          "format": "int32",
          "description": "主键"
        },
        "ip": {
          "type": "string",
          "description": "请求ip"
        },
        "keyword": {
          "type": "string",
          "description": "solr搜索关键字"
        },
        "label": {
          "type": "string",
          "description": "solr界面查询的标签"
        },
        "md5": {
          "type": "string",
          "description": "md5防止篡改，md5(user_id+description)"
        },
        "phone": {
          "type": "string",
          "description": "号码"
        },
        "solrMsgId": {
          "type": "string",
          "description": "solr索引数据id"
        },
        "solrQueryParam": {
          "type": "string",
          "description": "solr搜索参数"
        },
        "tableName": {
          "type": "string",
          "description": "solr表名称"
        },
        "uniqueFlag": {
          "type": "string",
          "description": "日志唯一标识"
        },
        "userId": {
          "type": "integer",
          "format": "int32",
          "description": "用户id"
        },
        "userName": {
          "type": "string",
          "description": "用户名称"
        }
      },
      "title": "UserLog对象",
      "description": "用户日志"
    }
  }
}